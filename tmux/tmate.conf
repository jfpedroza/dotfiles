# vi: ft=tmux
# Based on
# https://github.com/sbernheim4/dotfiles/blob/master/.tmux.conf

#############################
########## Settings
#############################

# Use vi keys in copy-mode
set -g mode-keys vi

# Start window and pane indices at 1.
set -g base-index 1
set -g pane-base-index 1

# Status refresh interval
set -g status-interval 5

# Length of tmux status line
set -g status-left-length 30
set -g status-right-length 150

set -g status-left "#[bg=colour7]#[fg=black]#{?client_prefix,#[bg=green],} â #S #[bg=black]#[fg=colour7]#{?client_prefix,#[fg=green],}î‚° #{?window_zoomed_flag,ğŸ” ,}"
set -g status-right "#[bg=colour238]#[fg=green]î‚²#[bg=green]#[fg=black] #{b:pane_current_path} #[bg=green]#[fg=yellow]î‚²#[bg=yellow]#[fg=black] ğŸ•‘%I:%M %p %d-%b  "

# Set the background color
set -g status-bg colour238

# Set the history limit so we get lots of scrollback.
setw -g history-limit 500000

# Remove time to wait after Esc is pressed
set -s escape-time 0

# Enable true colors
set-option -sa terminal-overrides ',xterm-256color:RGB'

#############################
########## Bindings
#############################

# Turn the mouse on, but without copy mode dragging
set -g mouse on
unbind -n MouseDrag1Pane

# Set the prefix to `Ctrl + x` instead of `ctrl + b`
unbind C-b
set -g prefix C-x
bind-key C-x send-prefix

# Make the split window commands use the working directory of the current pane
bind % split-window -h -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

# Create a new window with the given name
bind-key C command-prompt -p "Name of new window: " "new-window -n '%%'"

# Switch between panes using alt + hjkl
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Use Caps+h and Caps+L to move between windows in a session
bind -n Ä§ previous-window
bind -n Å‚ next-window

# Use Caps+Shift+h and Caps+Shift+L to move between sessions
bind -n Ä¦ switch-client -p
bind -n Å switch-client -n

# Use r to quickly reload tmux settings
unbind r
bind r \
	source-file ~/.tmate.conf \;\
	display 'Reloaded tmate config'

# Setup 'v' to begin selection, just like Vim
bind-key -T vi-copy 'v' send begin-selection

 # Setup 'y' to yank (copy), just like Vim
bind-key -T vi-copy 'y' send copy-pipe "xclip -sel clip"
bind-key -T vi-copy 'V' send select-line
bind-key -T vi-copy 'r' send rectangle-toggle
